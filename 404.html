<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Redirecting...</title>
  <script>
    // 1. Сохраняем ПОЛНЫЙ путь, включая параметры запроса (?...) и хэш (#...).
    // Это надежнее, чем просто location.pathname.
    sessionStorage.redirect = location.href;

    // 2. Определяем корень сайта. Это единственный умный шаг здесь.
    // Он находит путь к текущему файлу (404.html) и отсекает имя файла,
    // чтобы получить путь к корневой папке проекта.
    var currentPath = location.pathname;
    var rootPath = currentPath.substring(0, currentPath.lastIndexOf('/') + 1);

    // 3. Перенаправляем на главную страницу в корне проекта.
    location.href = rootPath;
  </script>
</head>
<body>
</body>
</html>