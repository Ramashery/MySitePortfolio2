<!-- НАЧАЛО НОВОГО ФАЙЛА 404.html -->

<!DOCTYPE html>
<!-- Язык будет установлен динамически -->
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading...</title>
    
    <!-- Важно: <base> тег для правильных путей к файлам -->
    <script>
      const repoName = window.location.pathname.split('/')[1] || '';
      if (repoName) {
        document.write('<base href="/' + repoName + '/">');
      } else {
        document.write('<base href="/">');
      }
    </script>
    
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    
    <!-- Подключаем Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore-compat.js"></script>

</head>
<body>
    <!-- Пустая структура, которая будет заполнена динамически -->
    <div id="loader"><div class="spinner"></div></div>
    <main></main>
    <noscript>
        <!-- Этот контент будет заменен, но оставляем его для самых старых браузеров -->
        <h1>JavaScript is required to view this site.</h1>
        <p>Please enable JavaScript in your browser settings.</p>
    </noscript>

    <!--
      Вместо редиректа, мы запускаем наш умный загрузчик.
      Он сам разберется, какую страницу нужно показать.
    -->
    <script src="loader.js"></script>
</body>
</html>

<!-- КОНЕЦ НОВОГО ФАЙЛА 404.html -->