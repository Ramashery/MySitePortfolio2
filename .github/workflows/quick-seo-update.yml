name: ‚ö° –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ SEO

on:
  workflow_dispatch:
    inputs:
      update_type:
        description: '–¢–∏–ø –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è'
        required: true
        default: 'seo'
        type: choice
        options:
        - seo
        - force
        - test
      message:
        description: '–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏'
        required: false
        default: '–ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ SEO —Å–∏—Å—Ç–µ–º—ã'
        type: string

jobs:
  quick-update:
    runs-on: ubuntu-latest
    name: ‚ö° –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
    
    steps:
      - name: üì• –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–¥–∞
        uses: actions/checkout@v4
      
      - name: üîÑ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é
        run: |
          echo "üîÑ –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—é –±—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ..."
          echo "üìÖ –í—Ä–µ–º—è: $(date)"
          echo "üéØ –¢–∏–ø: ${{ github.event.inputs.update_type }}"
          echo "üí¨ –°–æ–æ–±—â–µ–Ω–∏–µ: ${{ github.event.inputs.message }}"
      
      - name: üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '18'
          cache: 'npm'
      
      - name: üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
        run: |
          echo "üì¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏..."
          npm ci
          echo "‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã"
      
      - name: üöÄ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ Netlify
        uses: nwtgck/actions-netlify@v2.0
        with:
          publish-dir: '.'
          production-branch: main
          github-token: ${{ secrets.GITHUB_TOKEN }}
          deploy-message: "‚ö° ${{ github.event.inputs.message }} - $(date)"
          enable-pull-request-comment: true
          enable-commit-comment: true
      
      - name: üéâ –£—Å–ø–µ—à–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
        run: |
          echo "üéâ –ë–´–°–¢–†–û–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û!"
          echo "=================================="
          echo "‚úÖ –°—Ç–∞—Ç—É—Å: –£—Å–ø–µ—à–Ω–æ"
          echo "‚è∞ –í—Ä–µ–º—è: $(date)"
          echo "üéØ –¢–∏–ø: ${{ github.event.inputs.update_type }}"
          echo "üí¨ –°–æ–æ–±—â–µ–Ω–∏–µ: ${{ github.event.inputs.message }}"
          echo "üåê –°–∞–π—Ç: –û–±–Ω–æ–≤–∏—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 2-5 –º–∏–Ω—É—Ç"
          echo "üì± –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –≤ Netlify!"
      
      - name: üîó –ü–æ–ª—É—á–µ–Ω–∏–µ URL –¥–µ–ø–ª–æ—è
        id: netlify
        uses: nwtgck/actions-netlify@v2.0
        with:
          publish-dir: '.'
          production-branch: main
          github-token: ${{ secrets.GITHUB_TOKEN }}
      
      - name: üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞
        run: |
          echo "üìä –ò–¢–û–ì–û–í–ê–Ø –°–í–û–î–ö–ê"
          echo "==================="
          echo "‚úÖ –°—Ç–∞—Ç—É—Å: –ó–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ"
          echo "‚è∞ –í—Ä–µ–º—è: $(date)"
          echo "üéØ –¢–∏–ø –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: ${{ github.event.inputs.update_type }}"
          echo "üí¨ –°–æ–æ–±—â–µ–Ω–∏–µ: ${{ github.event.inputs.message }}"
          echo "üåê –°–∞–π—Ç: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è"
          echo "üì± –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: –ü–∞–Ω–µ–ª—å Netlify"
          echo "üöÄ –î–µ–ø–ª–æ–π: –ó–∞–≤–µ—Ä—à–µ–Ω"