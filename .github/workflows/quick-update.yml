name: âš¡ Quick Update Site

on:
  workflow_dispatch: # Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ Ñ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ°
    inputs:
      update_type:
        description: 'Ğ¢Ğ¸Ğ¿ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ'
        required: true
        default: 'seo'
        type: choice
        options:
        - seo
        - content
        - design
        - all

jobs:
  quick-update:
    runs-on: ubuntu-latest
    
    steps:
    - name: ğŸ“¥ Checkout code
      uses: actions/checkout@v4
      
    - name: ğŸ”„ Force update
      run: |
        echo "ğŸ”„ Force updating site..."
        echo "ğŸ“… Update time: $(date)"
        echo "ğŸ¯ Update type: ${{ github.event.inputs.update_type }}"
        
    - name: ğŸš€ Deploy to Netlify
      uses: nwtgck/actions-netlify@v2.0
      with:
        publish-dir: '.'
        production-branch: main
        github-token: ${{ secrets.GITHUB_TOKEN }}
        deploy-message: "âš¡ Quick update: ${{ github.event.inputs.update_type }} - $(date)"
        enable-pull-request-comment: true
        enable-commit-comment: true
        
    - name: ğŸ“± Success notification
      run: |
        echo "ğŸ‰ Quick update completed successfully!"
        echo "â° Update time: $(date)"
        echo "ğŸŒ Site will be updated in 2-5 minutes"
        echo "ğŸ“± You can check status on your phone!"
        
    - name: ğŸ”— Get deployment URL
      id: netlify
      uses: nwtgck/actions-netlify@v2.0
      with:
        publish-dir: '.'
        production-branch: main
        github-token: ${{ secrets.GITHUB_TOKEN }}
        
    - name: ğŸ“Š Update summary
      run: |
        echo "ğŸ“Š QUICK UPDATE SUMMARY"
        echo "========================"
        echo "âœ… Status: Completed"
        echo "â° Time: $(date)"
        echo "ğŸ¯ Type: ${{ github.event.inputs.update_type }}"
        echo "ğŸŒ Site: Will update automatically"
        echo "ğŸ“± Check: Your phone for notifications"